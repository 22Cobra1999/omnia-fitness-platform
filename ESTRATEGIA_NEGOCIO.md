# üíº Estrategia de Negocio - Omnia

## üì¶ Sistema de Planes y Suscripciones

### **Modelo de Negocio**

Omnia opera bajo un modelo de suscripci√≥n mensual con planes escalables que permiten a los coaches crecer junto con su negocio. El sistema incluye un plan gratuito inicial para facilitar la adopci√≥n y planes de pago con beneficios progresivos.

---

## üéØ Planes Disponibles

### **Tabla Comparativa de Planes**

| Plan | Precio Mensual (ARS) | Almacenamiento | Productos Activos | Clientes Recomendados | Comisi√≥n |
|------|---------------------|----------------|-------------------|---------------------|----------|
| üü¢ **Free / Inicial** | $0 (3 meses o hasta 3 ventas) | **1 GB** | 3 | hasta 10 | 8% |
| ‚ö´ **B√°sico** | $12.000 | **5 GB** | 5 | hasta 30 | 8% |
| üîµ **Black** | $22.000 | **25 GB** | 10 | hasta 70 | 6% |
| üü£ **Premium** | $35.000 | **100 GB** | 20 | hasta 150 | 5% |

---

## üìä Caracter√≠sticas Detalladas por Plan

### **Comparativa Completa**

| Caracter√≠stica | üü¢ Free | ‚ö´ B√°sico | üîµ Black | üü£ Premium |
|---------------|---------|----------|----------|------------|
| **Almacenamiento** | 1 GB | 5 GB | 25 GB | 100 GB |
| **Productos activos** | 3 | 5 | 10 | 20 |
| **Clientes por producto** | 10 | 30 | 70 | 150 |
| **Actividades por producto** | 20 | 40 | 60 | 100 |
| **Comisi√≥n por venta** | 8% | 8% | 6% | 5% |
| **Duraci√≥n de video (m√°x)** | ‚Äî | 30 s | 60 s | 120 s |
| **Duraci√≥n de producto (uso por cliente)** | 7‚Äì14 d√≠as | 30 d√≠as | 60 d√≠as | 90‚Äì120 d√≠as |
| **Video de portada** | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ |
| **Anal√≠tica** | ‚Äî | B√°sica | Avanzada | Completa |
| **Soporte** | E-mail | E-mail prioritario | Chat directo | Soporte t√©cnico directo |

---

## üéØ Estrategia de Precios

### **Plan Free / Inicial**
- **Prop√≥sito:** Facilitar la adopci√≥n y permitir que los coaches prueben la plataforma
- **Duraci√≥n:** 4 per√≠odos de 31 d√≠as cada uno (total: 124 d√≠as ‚âà 4 meses)
  - Per√≠odo inicial: `renewal_count = 0`
  - 3 renovaciones autom√°ticas: `renewal_count = 1, 2, 3`
  - Despu√©s de 3 renovaciones, el plan NO se renueva autom√°ticamente
- **L√≠mites:** Restringidos pero suficientes para comenzar
- **Conversi√≥n:** Incentivo para migrar a plan de pago despu√©s del per√≠odo de prueba
- **Sistema de renovaci√≥n:** Autom√°tico cada 31 d√≠as hasta alcanzar el l√≠mite

### **Plan B√°sico ($12.000 ARS/mes)**
- **Target:** Coaches que est√°n comenzando a monetizar
- **Beneficios clave:**
  - 5 GB de almacenamiento (5x m√°s que Free)
  - Video de portada habilitado
  - Anal√≠tica b√°sica
  - Hasta 5 productos activos
  - Hasta 30 clientes por producto

### **Plan Black ($22.000 ARS/mes)**
- **Target:** Coaches con base de clientes establecida
- **Beneficios clave:**
  - 25 GB de almacenamiento (5x m√°s que B√°sico)
  - Comisi√≥n reducida al 6% (vs 8% en planes inferiores)
  - Anal√≠tica avanzada
  - Hasta 10 productos activos
  - Hasta 70 clientes por producto
  - Soporte por chat directo

### **Plan Premium ($35.000 ARS/mes)**
- **Target:** Coaches con alto volumen y necesidades empresariales
- **Beneficios clave:**
  - 100 GB de almacenamiento (4x m√°s que Black)
  - Comisi√≥n reducida al 5% (m√°s baja del mercado)
  - Anal√≠tica completa
  - Hasta 20 productos activos
  - Hasta 150 clientes por producto
  - Soporte t√©cnico directo prioritario
  - Videos de hasta 120 segundos

---

## üí∞ Estructura de Comisiones

### **Sistema de Comisiones Reducidas**

Las comisiones se reducen seg√∫n el plan, incentivando a los coaches a escalar:

- **Free / B√°sico:** 8% de comisi√≥n por venta
- **Black:** 6% de comisi√≥n por venta (25% de reducci√≥n)
- **Premium:** 5% de comisi√≥n por venta (37.5% de reducci√≥n vs Free/B√°sico)

### **Estrategia de Incentivos**

La reducci√≥n progresiva de comisiones crea un incentivo claro para que los coaches:
1. **Escalen su negocio** ‚Üí M√°s productos y clientes
2. **Migren a planes superiores** ‚Üí Reducci√≥n de comisiones = mayor ganancia neta
3. **Mantengan suscripciones activas** ‚Üí Valor percibido aumenta con el plan

---

## üìà Modelo de Escalamiento

### **Ruta de Crecimiento del Coach**

```
üü¢ Free (0-3 meses)
    ‚Üì
‚ö´ B√°sico (primeros clientes)
    ‚Üì
üîµ Black (base establecida)
    ‚Üì
üü£ Premium (alto volumen)
```

### **Puntos de Decisi√≥n de Migraci√≥n**

1. **Free ‚Üí B√°sico:**
   - Necesita m√°s de 3 productos activos
   - Necesita m√°s de 1 GB de almacenamiento
   - Quiere video de portada para mejor presentaci√≥n

2. **B√°sico ‚Üí Black:**
   - Necesita m√°s de 5 productos activos
   - Quiere reducir comisi√≥n del 8% al 6%
   - Necesita anal√≠tica avanzada
   - Base de m√°s de 30 clientes por producto

3. **Black ‚Üí Premium:**
   - Necesita m√°s de 10 productos activos
   - Quiere reducir comisi√≥n del 6% al 5%
   - Necesita anal√≠tica completa
   - Base de m√°s de 70 clientes por producto
   - Requiere soporte t√©cnico prioritario

---

## üéÅ Beneficios Diferenciadores

### **Por Nivel de Plan**

#### **Free / Inicial**
- **Ventaja:** Acceso gratuito para comenzar
- **Limitaci√≥n:** Sin video de portada, sin anal√≠tica

#### **B√°sico**
- **Ventaja:** Video de portada habilitado
- **Ventaja:** Anal√≠tica b√°sica para entender el rendimiento

#### **Black**
- **Ventaja:** Comisi√≥n reducida (6% vs 8%)
- **Ventaja:** Anal√≠tica avanzada con insights profundos
- **Ventaja:** Soporte por chat directo

#### **Premium**
- **Ventaja:** Comisi√≥n m√°s baja (5%)
- **Ventaja:** Anal√≠tica completa con reportes personalizados
- **Ventaja:** Soporte t√©cnico directo prioritario
- **Ventaja:** Mayor capacidad en todos los aspectos

---

## üîÑ Pol√≠tica de Cambio de Plan

### **Flexibilidad para el Coach**

1. **Upgrade (Ascenso):**
   - **Activaci√≥n:** Inmediata
   - **D√≠as regalados:** Los d√≠as restantes del plan anterior se suman al nuevo plan
   - **C√°lculo:** `expires_at = now + (d√≠as_restantes + 31 d√≠as nuevos)`
   - **Beneficios:** El coach aprovecha los beneficios del plan mejor inmediatamente
   - **No se requiere validaci√≥n de espacio** (siempre hay m√°s)
   - **Ejemplo:** Si quedan 15 d√≠as del plan anterior, el nuevo plan tendr√° 15 + 31 = 46 d√≠as

2. **Downgrade (Descenso):**
   - **Activaci√≥n:** Programada para cuando termine el plan actual
   - **Conserva d√≠as:** El plan actual contin√∫a hasta su expiraci√≥n
   - **C√°lculo:** 
     - `started_at del nuevo plan = expires_at del plan actual`
     - `expires_at del nuevo plan = started_at + 31 d√≠as`
   - **Ventaja:** El coach no pierde los d√≠as restantes del plan mejor
   - **Requiere validaci√≥n de espacio usado**
   - Si el espacio usado excede el nuevo l√≠mite, no se permite el cambio
   - El coach debe liberar espacio antes de cambiar

3. **Cancelaci√≥n:**
   - El plan se marca como `cancelled`
   - El acceso contin√∫a hasta el final del per√≠odo pagado
   - Los datos se mantienen por 30 d√≠as despu√©s de la cancelaci√≥n

## üîÑ Sistema de Renovaciones Autom√°ticas

### **Renovaci√≥n Mensual (31 d√≠as)**

Todos los planes se renuevan autom√°ticamente cada **31 d√≠as exactos**:

- **Duraci√≥n fija:** Cada per√≠odo dura exactamente 31 d√≠as desde `started_at` hasta `expires_at`
- **Renovaci√≥n autom√°tica:** Se ejecuta diariamente mediante cron job que llama a `/api/coach/plan/renew`
- **Nueva fila:** Cada renovaci√≥n crea un nuevo registro en `planes_uso_coach`
- **Plan anterior:** Se marca como `expired` cuando se renueva

### **Campo `renewal_count`**

El campo `renewal_count` trackea el n√∫mero de renovaciones autom√°ticas realizadas:

| renewal_count | Significado |
|---------------|-------------|
| **0** | Plan inicial (primer per√≠odo de 31 d√≠as) |
| **1** | Primera renovaci√≥n autom√°tica |
| **2** | Segunda renovaci√≥n autom√°tica |
| **3** | Tercera renovaci√≥n autom√°tica |

### **L√≠mite de Renovaciones: Plan Free**

El plan Free tiene un l√≠mite de **3 renovaciones autom√°ticas** (4 per√≠odos totales):

1. **Per√≠odo Inicial:** `renewal_count = 0` (31 d√≠as)
2. **Primera Renovaci√≥n:** `renewal_count = 1` (31 d√≠as)
3. **Segunda Renovaci√≥n:** `renewal_count = 2` (31 d√≠as)
4. **Tercera Renovaci√≥n:** `renewal_count = 3` (31 d√≠as)
5. **Despu√©s de 3 renovaciones:** 
   - El plan Free **NO se renueva autom√°ticamente**
   - El coach debe cambiar a un plan de pago
   - Total: **4 per√≠odos √ó 31 d√≠as = 124 d√≠as** (‚âà 4 meses)

### **Renovaciones: Planes de Pago**

Los planes de pago (B√°sico, Black, Premium) tienen:
- **Renovaci√≥n ilimitada:** No tienen l√≠mite de renovaciones
- **`renewal_count` siempre es 0:** Este campo solo aplica al plan Free
- **Renovaci√≥n autom√°tica:** Contin√∫a indefinidamente mientras el plan est√© activo y pagado

### **API de Renovaci√≥n Autom√°tica**

**Endpoint:** `POST /api/coach/plan/renew`

**Proceso:**
1. Busca planes activos con `expires_at <= now`
2. Valida renovaci√≥n:
   - Plan Free: Solo si `renewal_count < 3`
   - Planes de pago: Siempre permitido
3. Sincroniza `storage_used_gb` desde `storage_usage`
4. Valida que el almacenamiento usado no exceda el l√≠mite
5. Marca el plan anterior como `expired`
6. Crea nuevo plan con:
   - `started_at = now`
   - `expires_at = now + 31 d√≠as`
   - `renewal_count` incrementado (solo para Free)

**Ejecuci√≥n:** Se debe configurar un cron job diario para ejecutar este endpoint

---

## üìä M√©tricas de Almacenamiento

### **Desglose por Tipo de Archivo**

El sistema rastrea el uso de almacenamiento por categor√≠as:
- **Videos:** Archivos de ejercicios, videos de portada, videos de preparaci√≥n
- **Fotos:** Im√°genes de productos, platos, ejercicios
- **Documentos:** PDFs de talleres, recursos adicionales

### **Widget de Almacenamiento**

El widget muestra:
- **Barra de progreso visual** con 3 secciones:
  - Videos (naranja #FF7939)
  - Fotos (negro)
  - Disponible (blanco)
- **Porcentajes y tama√±os** cuando > 10%
- **Iconos** siempre visibles

---

## üéØ Objetivos de Negocio

### **Conversi√≥n de Planes**

1. **Free ‚Üí B√°sico:** 60% de conversi√≥n esperada
2. **B√°sico ‚Üí Black:** 40% de conversi√≥n esperada
3. **Black ‚Üí Premium:** 25% de conversi√≥n esperada

### **Retenci√≥n**

- **Plan Free:** Retenci√≥n de 30 d√≠as despu√©s del per√≠odo gratuito
- **Planes de Pago:** Retenci√≥n objetivo de 90% mensual

### **Upsell**

- Incentivos claros para escalar:
  - Reducci√≥n de comisiones
  - M√°s capacidad
  - Mejores herramientas

---

## üí° Estrategias de Marketing

### **Para Atraer Nuevos Coaches**

1. **Plan Free Generoso:**
   - 3 meses gratis o hasta 3 ventas
   - Suficiente para probar la plataforma completamente
   - Sin tarjeta de cr√©dito requerida inicialmente

2. **Transparencia en Precios:**
   - Tabla comparativa clara y visible
   - Sin costos ocultos
   - Comisiones claramente establecidas

### **Para Retener Coaches Existentes**

1. **Valor Progresivo:**
   - Cada plan ofrece beneficios tangibles
   - Reducci√≥n de comisiones incentiva el crecimiento
   - Soporte mejorado seg√∫n el plan

2. **Flexibilidad:**
   - Cambio de plan f√°cil y transparente
   - Downgrade protegido (no se pierde datos)
   - Upgrade inmediato

---

## üìã Implementaci√≥n T√©cnica

### **Componentes Clave**

1. **PlanManagement Component:**
   - Gesti√≥n visual de planes
   - Tabla comparativa
   - Cambio de plan con validaciones

2. **StorageUsageWidget:**
   - Visualizaci√≥n del uso de almacenamiento
   - Integraci√≥n autom√°tica con el plan activo
   - Alertas cuando se acerca al l√≠mite

3. **API `/api/coach/plan`:**
   - GET: Obtiene plan activo
   - POST: Cambia de plan
   - Validaciones autom√°ticas

### **Base de Datos**

- **Tabla:** `planes_uso_coach`
- **Tracking:** Uso de almacenamiento, estado del plan, fechas
- **Constraints:** Un plan activo por coach
- **RLS:** Seguridad a nivel de fila

---

## üöÄ Pr√≥ximos Pasos Estrat√©gicos

### **Corto Plazo (1-3 meses)**

1. **Monitoreo de Conversiones:**
   - Tracking de migraciones entre planes
   - An√°lisis de puntos de fricci√≥n
   - Optimizaci√≥n de flujos de cambio

2. **Mejoras en Onboarding:**
   - Tutorial interactivo sobre planes
   - Calculadora de necesidades de almacenamiento
   - Recomendaciones personalizadas de plan

### **Mediano Plazo (3-6 meses)**

1. **Planes Personalizados:**
   - Opci√≥n de plan anual con descuento
   - Planes para equipos/gimnasios
   - Planes enterprise con caracter√≠sticas adicionales

2. **Anal√≠tica Avanzada:**
   - Dashboard de ROI por plan
   - Comparaci√≥n de rendimiento entre planes
   - Insights de uso de almacenamiento

### **Largo Plazo (6-12 meses)**

1. **Ecosistema de Partners:**
   - Integraciones con otras plataformas
   - Marketplace de recursos
   - Programas de afiliados

2. **Expansi√≥n Internacional:**
   - Planes en diferentes monedas
   - Ajustes de precios por regi√≥n
   - Localizaci√≥n de caracter√≠sticas

---

## üìù Notas Finales

Este sistema de planes est√° dise√±ado para:
- **Facilitar la adopci√≥n** con un plan gratuito generoso
- **Incentivar el crecimiento** con beneficios progresivos
- **Generar valor** tanto para coaches como para la plataforma
- **Mantener flexibilidad** para adaptarse a diferentes necesidades

El modelo de negocio es sostenible, escalable y centrado en el √©xito del coach, creando una relaci√≥n ganar-ganar que impulsa el crecimiento de ambas partes.

